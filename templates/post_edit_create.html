{% from 'bootstrap5/form.html' import render_form %}
{% extends 'layout.html' %}

{% block body %}

    <div class="mt-2 card bg-dark">
        <div class="card-header">
            {% if post %}
                {{post.title}} #{{post.id}}
            {% else %}
                New post
            {% endif %}
        </div>

        <div class="card-body">
            {% if post %}
                {{render_form(form, action="/post_edit/{}".format(post.id), method="post", novalidate=True, id="main_form", button_style="btn btn-md btn-primary mt-2")}}
            {% else %}
                {{render_form(form, action="/post_create", method="post", novalidate=True, id="main_form", button_style="btn btn-md btn-primary mt-2")}}
            {% endif %}
        </div>
        {% include 'file_downloads.html' %}
    </div>

    {{ ckeditor.load() }}
    {{ ckeditor.config(name='text') }}

{% endblock %}
