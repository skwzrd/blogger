{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      {% set font_color = 'white' %}
      {% if category in ['warning'] %}
        {% set font_color = 'black' %}
      {% endif %}
      {% if not category or category == 'message' %}
        {% set category = 'dark' %}
      {% endif %}
      <div id="flash" class="mt-2 card">
        <div class="p-2 rounded overflow-hidden bg-{{category}} text-{{font_color}} hstack">
          <div>{{ message }}</div>
        </div>
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}